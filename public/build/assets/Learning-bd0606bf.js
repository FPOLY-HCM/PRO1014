import{o as n,c,b as e,d as u,a as o,u as s,y as k,F as h,n as w,p as v,f as C,g as L,v as j,t as i,l as _,r as B,w as x,s as b,z as O,i as p,_ as M,e as V}from"./app-ea326635.js";import{_ as y}from"./InputError-2e03f029.js";import{d as $,s as F}from"./helpers-ea5eecda.js";import{r as N}from"./PlayCircleIcon-4d030b7c.js";function R(t,a){return n(),c("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[e("path",{"fill-rule":"evenodd",d:"M7.72 12.53a.75.75 0 010-1.06l7.5-7.5a.75.75 0 111.06 1.06L9.31 12l6.97 6.97a.75.75 0 11-1.06 1.06l-7.5-7.5z","clip-rule":"evenodd"})])}function g(t,a){return n(),c("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[e("path",{"fill-rule":"evenodd",d:"M10.788 3.21c.448-1.077 1.976-1.077 2.424 0l2.082 5.007 5.404.433c1.164.093 1.636 1.545.749 2.305l-4.117 3.527 1.257 5.273c.271 1.136-.964 2.033-1.96 1.425L12 18.354 7.373 21.18c-.996.608-2.231-.29-1.96-1.425l1.257-5.273-4.117-3.527c-.887-.76-.415-2.212.749-2.305l5.404-.433 2.082-5.006z","clip-rule":"evenodd"})])}const z={class:"fixed top-0 left-0 w-full h-full"},S={class:"bg-[rgba(28,29,31,.8)] w-full h-full"},T={class:"flex items-center justify-center min-h-full"},D={class:"pt-5 bg-white rounded-lg px-7 pb-7"},A=e("h2",{class:"text-lg font-bold"},"Bạn đánh giá khóa học này như thế nào?",-1),E={class:"mt-5 text-center"},G=e("h3",{class:"font-semibold"},"Chọn xếp hạng",-1),H={class:"flex justify-center mt-3"},I=["onSubmit"],U=["textContent"],q={__name:"ReviewForm",props:{course:Object},setup(t){const a=t,r=u.useForm({rating:null,content:null}),l=()=>{r.post(_("courses.reviews.store",{course:a.course.id}))};return(d,f)=>(n(),c("div",z,[e("div",S,[e("div",T,[e("div",D,[e("div",{onClick:f[0]||(f[0]=m=>d.isOpenRatingModal=!1),class:"flex justify-end mb-3 cursor-pointer"},[o(s(k),{class:"w-5 h-5"})]),A,e("div",E,[G,e("div",H,[(n(),c(h,null,w(5,m=>o(s(g),{key:m,class:v(["w-10 h-10 text-yellow-400 cursor-pointer",{"text-gray-300":m>s(r).rating}]),onClick:$e=>s(r).rating=m},null,8,["class","onClick"])),64))]),o(y,{message:s(r).errors.rating},null,8,["message"]),e("form",{onSubmit:C(l,["prevent"]),class:"mt-5"},[L(e("textarea",{"onUpdate:modelValue":f[1]||(f[1]=m=>s(r).content=m),class:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg h-28",placeholder:"Viết đánh giá của bạn"},null,512),[[j,s(r).content]]),o(y,{message:s(r).errors.content,class:"text-left"},null,8,["message"]),e("button",{type:"submit",class:"px-5 py-2 mt-3 text-sm text-white bg-blue-500 rounded-lg hover:bg-blue-700",textContent:i(s(r).processing?"Đang gửi...":"Gửi đánh giá")},null,8,U)],40,I)])])])])]))}},J={class:"sticky top-0 flex items-center justify-between h-12 bg-gray-800 px-7"},K={class:"flex items-center"},P={class:"flex items-center"},Q=e("img",{src:M,alt:"",class:"w-8 h-8 rounded-lg"},null,-1),W=["textContent"],X=e("span",{class:"ml-2 text-sm"},"Đánh giá",-1),Y=e("footer",null,null,-1),Z={__name:"LearningLayout",props:{course:Object},setup(t){const a=B(!1);return(r,l)=>(n(),c(h,null,[e("header",J,[e("div",K,[o(s(u.Link),{href:s(_)("home"),class:"mr-7"},{default:x(()=>[o(s(R),{class:"w-5 h-5 text-white"})]),_:1},8,["href"]),e("div",P,[Q,e("span",{class:"ml-3 font-bold text-white",textContent:i(t.course.name)},null,8,W)])]),e("div",null,[t.course.is_reviewed?b("",!0):(n(),c("div",{key:0,onClick:l[0]||(l[0]=d=>a.value=!0),class:"flex items-center text-white cursor-pointer"},[o(s(g),{class:"w-4 h-4"}),X]))])]),e("main",null,[O(r.$slots,"default"),a.value&&!t.course.is_reviewed?(n(),p(q,{key:0,course:t.course},null,8,["course"])):b("",!0)]),Y],64))}},ee={class:"flex pb-4 border-b last:border-b-0"},te={class:"mr-4"},se=["src","alt"],le={class:"flex items-center"},ne={class:"ml-2 text-sm text-gray-500"},oe={class:"my-2"},re={__name:"ReviewItem",props:{review:Object},setup(t){return(a,r)=>(n(),c("div",ee,[e("div",te,[o(s(u.Link),{href:s(_)("profile",{username:t.review.author.username})},{default:x(()=>[e("img",{src:t.review.author.avatar_url,alt:t.review.author.name,class:"w-12 h-12 rounded-full"},null,8,se)]),_:1},8,["href"])]),e("div",null,[o(s(u.Link),{href:s(_)("profile",{username:t.review.author.username}),class:"font-bold"},{default:x(()=>[V(i(t.review.author.name),1)]),_:1},8,["href"]),e("div",le,[(n(),c(h,null,w(5,l=>o(s(g),{key:l,class:v(["w-4 h-4 text-yellow-400",{"text-gray-300":l>t.review.rating}])},null,8,["class"])),64)),e("span",ne,i(s($)(t.review.created_at)),1)]),e("div",oe,i(t.review.content),1)])]))}},ce={class:"mt-12 space-y-6 border-t pt-7"},ie={__name:"ReviewList",props:{reviews:Array},setup(t){return(a,r)=>(n(),c("div",ce,[(n(!0),c(h,null,w(t.reviews,(l,d)=>(n(),p(re,{key:d,review:l},null,8,["review"]))),128))]))}};const ae={class:"grid md:grid-cols-4"},de={class:"md:col-span-1"},ue={class:"w-full md:fixed md:top-14"},me=e("div",{class:"py-3 px-5 font-semibold shadow"}," Nội dung khoá học ",-1),he={class:"h-screen overflow-y-auto scrollbar"},_e={class:"flex items-center text-gray-600"},fe={class:"text-sm"},ve={class:"-order-1 md:col-span-3"},xe={class:"h-full"},we=["src","title"],ge={class:"mx-5 my-8 md:mx-20 md:my-8"},be={class:"font-bold text-2xl md:text-3xl"},ye={class:"text-sm text-gray-600 mt-2"},pe={class:"prose mt-8"},Be={__name:"Learning",props:{course:Object,lesson:Object},setup(t){return u.defineLayout(Z),(a,r)=>(n(),c(h,null,[o(s(u.Head),{title:t.course.lesson.name},null,8,["title"]),e("div",ae,[e("div",de,[e("div",ue,[me,e("ul",he,[(n(!0),c(h,null,w(t.course.lessons,(l,d)=>(n(),c("li",{key:d,class:v(["px-5 py-3 hover:bg-gray-200",{"bg-gray-200":l.id===t.course.lesson.id}])},[o(s(u.Link),{href:s(_)("learning",{course:t.course.slug,lesson:l.id})},{default:x(()=>[e("div",{class:v({"font-semibold":l.id===t.course.lesson.id})},i(d+1)+". "+i(l.name),3),e("div",_e,[o(s(N),{class:"w-3 h-3 mr-1"}),e("span",fe,i(s(F)(l.time_duration)),1)])]),_:2},1032,["href"])],2))),128))])])]),e("div",ve,[e("div",xe,[e("iframe",{class:"md:h-[500px] w-full",src:t.course.lesson.youtube_url,title:t.course.lesson.name,frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:""},null,8,we),e("div",ge,[e("h1",be,i(t.course.lesson.name),1),e("div",ye,"Cập nhật "+i(s($)(t.course.lesson.updated_at)),1),e("div",pe,i(t.course.lesson.content),1),o(ie,{reviews:t.course.reviews},null,8,["reviews"])])])])])],64))}};export{Be as default};
